{"version":3,"sources":["components/Person.js","components/Persons.js","components/Form.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","id","Persons","persons","handleDelete","map","key","Form","onNameChange","onNumberChange","submit","onSubmit","value","onChange","type","Filter","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewname","newNumber","setNewnumber","filter","setFilter","noteMessage","setNoteMessage","useEffect","personService","allPersons","catch","error","console","log","personsToShow","toLocaleLowerCase","includes","event","target","preventDefault","foundPerson","find","p","window","confirm","changedPerson","returnedPerson","setTimeout","concat","toDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3cbc7f38.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n    return (\r\n        <p>\r\n            {person.name} {person.number} <button onClick={() => deletePerson(person.id)}>delete</button>\r\n        </p>\r\n    );\r\n};\r\n\r\nexport default Person;","import React from 'react';\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, handleDelete }) => {\r\n    return (\r\n        <div>\r\n            {persons.map(person => <Person key={person.name} person={person} deletePerson={handleDelete} />)}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Persons;","import React from 'react';\r\n\r\nconst Form = ({\r\n    name,\r\n    onNameChange,\r\n    number,\r\n    onNumberChange,\r\n    submit\r\n}) => {\r\n    return (\r\n        <form onSubmit={submit}>\r\n            <div>name: <input value={name} onChange={onNameChange} /></div>\r\n            <div>number: <input value={number} onChange={onNumberChange} /></div>\r\n            <div><button type='submit'>add</button></div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default Form;","import React from 'react';\r\n\r\nconst Filter = ({ value, onChange }) => {\r\n    return (\r\n        <div>\r\n            filter shown with\r\n            <input value={value} onChange={onChange} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={message.className}>\r\n            {message.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification;","import axios from 'axios'\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    update,\r\n    remove\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport Persons from './components/Persons';\r\nimport Form from './components/Form';\r\nimport Filter from './components/Filter';\r\nimport Notification from './components/Notification';\r\nimport personService from './services/persons';\r\nimport './App.css';\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewname] = useState('')\r\n    const [newNumber, setNewnumber] = useState('')\r\n    const [filter, setFilter] = useState('')\r\n    const [noteMessage, setNoteMessage] = useState({ className: null, message: null })\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(allPersons => setPersons(allPersons))\r\n            .catch(error => console.log(error))\r\n    }, [])\r\n\r\n    const handleNameChange = event => setNewname(event.target.value)\r\n    const handleNumberChange = event => setNewnumber(event.target.value)\r\n    const handleFilterChange = event => setFilter(event.target.value)\r\n\r\n    const addPerson = event => {\r\n        event.preventDefault()\r\n        if (persons.map(person => person.name).includes(newName)) {\r\n            const foundPerson = persons.find(p => p.name === newName)\r\n            if (window.confirm(`${foundPerson.name} is already added to phonebook, replace the old number with a new one?`)) {\r\n                const changedPerson = { ...foundPerson, number: newNumber }\r\n                personService\r\n                    .update(foundPerson.id, changedPerson)\r\n                    .then(returnedPerson => {\r\n                        console.log(returnedPerson)\r\n                        setPersons(persons.map(p => p.id !== foundPerson.id ? p : returnedPerson))\r\n                        setNewname('')\r\n                        setNewnumber('')\r\n                        setNoteMessage({ className: 'note', message: `${returnedPerson.name}s number was changed` })\r\n                        setTimeout(() => {\r\n                            setNoteMessage({ className: null, message: null })\r\n                        }, 5000)\r\n                    })\r\n                    .catch(error => {\r\n                        setNoteMessage({ className: 'error', message: error.response.data.error })\r\n                        setTimeout(() => {\r\n                            setNoteMessage({ className: null, message: null })\r\n                        }, 5000)\r\n                    })\r\n            }\r\n        } else {\r\n            personService\r\n                .create({ name: newName, number: newNumber })\r\n                .then(returnedPerson => {\r\n                    setPersons(persons.concat(returnedPerson))\r\n                    setNewname('')\r\n                    setNewnumber('')\r\n                    setNoteMessage({ className: 'note', message: `${returnedPerson.name} was added!` })\r\n                    setTimeout(() => {\r\n                        setNoteMessage({ className: null, message: null })\r\n                    }, 5000)\r\n                })\r\n                .catch(error => {\r\n                    setNoteMessage({ className: 'error', message: error.response.data.error })\r\n                    setTimeout(() => {\r\n                        setNoteMessage({ className: null, message: null })\r\n                    }, 5000)\r\n                })\r\n        }\r\n    }\r\n\r\n    const deletePerson = id => {\r\n        const toDelete = persons.find(person => person.id === id)\r\n        window.confirm(`Delete ${toDelete.name}?`)\r\n            ? personService\r\n                .remove(id)\r\n                .then(() => {\r\n                    setPersons(persons.filter(p => p.id !== id))\r\n                    setNoteMessage({ className: 'error', message: `${toDelete.name} was deleted!` })\r\n                    setTimeout(() => {\r\n                        setNoteMessage({ className: null, message: null })\r\n                    }, 5000)\r\n                })\r\n                .catch(error => {\r\n                    console.log(error)\r\n                    setPersons(persons.filter(p => p.id !== id))\r\n                    setNoteMessage({ className: 'error', message: `${toDelete.name} was already removed from the database!` })\r\n                    setTimeout(() => {\r\n                        setNoteMessage({ className: null, message: null })\r\n                    }, 5000)\r\n                })\r\n            : console.log('cancelled')\r\n    }\r\n\r\n    const personsToShow = filter === ''\r\n        ? persons\r\n        : persons.filter(person => person.name.toLocaleLowerCase().includes(filter.toLocaleLowerCase()))\r\n\r\n    return (\r\n        <div>\r\n            <h1>Phonebook</h1>\r\n            <Notification message={noteMessage} />\r\n            <Filter value={filter} onChange={handleFilterChange} />\r\n            <h2>add a new</h2>\r\n            <Form\r\n                name={newName}\r\n                onNameChange={handleNameChange}\r\n                number={newNumber}\r\n                onNumberChange={handleNumberChange}\r\n                submit={addPerson}\r\n            />\r\n            <h2>Numbers</h2>\r\n            <Persons\r\n                persons={personsToShow}\r\n                handleDelete={deletePerson}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}